{
  "manifest": {
    "name": "async-retry-ng",
    "version": "2.0.1",
    "description": "Retrying made simple, easy and async",
    "main": "./lib/index.js",
    "scripts": {
      "test": "yarn run test-lint && yarn run test-unit",
      "test-lint": "eslint .",
      "test-unit": "jest --testTimeout 20000",
      "lint:staged": "lint-staged",
      "prettier": "prettier --single-quote --write './{src,__tests__}/**/*.js'"
    },
    "files": [
      "lib"
    ],
    "license": "MIT",
    "repository": {
      "type": "git",
      "url": "https://github.com/turist-cloud/async-retry-ng.git"
    },
    "pre-commit": "lint:staged",
    "lint-staged": {
      "*.js": [
        "eslint",
        "prettier --write --single-quote"
      ]
    },
    "eslintConfig": {
      "plugins": [
        "jest"
      ],
      "extends": [
        "plugin:jest/recommended",
        "airbnb",
        "prettier"
      ],
      "rules": {
        "no-param-reassign": 0,
        "no-plusplus": 0,
        "no-restricted-properties": 0,
        "no-restricted-syntax": 0,
        "no-underscore-dangle": 0,
        "prefer-arrow-callback": 0
      }
    },
    "devDependencies": {
      "eslint": "6.8.0",
      "eslint-config-airbnb": "18.1.0",
      "eslint-config-prettier": "6.10.1",
      "eslint-plugin-import": "2.20.1",
      "eslint-plugin-jest": "23.8.2",
      "eslint-plugin-jsx-a11y": "6.2.3",
      "eslint-plugin-react": "7.19.0",
      "eslint-plugin-react-hooks": "2.5.1",
      "jest": "25.1.0",
      "lint-staged": "10.0.8",
      "node-fetch": "2.6.0",
      "pre-commit": "1.2.2",
      "prettier": "2.0.1",
      "then-sleep": "1.0.1"
    },
    "_registry": "npm",
    "_loc": "/home/senmioxl/.cache/yarn/v6/npm-async-retry-ng-2.0.1-f5285ec1c52654a2ba6a505d0c18b1eadfaebd41-integrity/node_modules/async-retry-ng/package.json",
    "readmeFilename": "README.md",
    "readme": "# async-retry-ng\n\n[![Code Style](https://badgen.net/badge/code%20style/airbnb/fd5c63)](https://github.com/airbnb/javascript)\n\nRetrying made simple, easy, and async.\n\n## Usage\n\n```js\n// Packages\nconst retry = require('async-retry-ng')\nconst fetch = require('node-fetch')\n\nawait retry(async bail => {\n  // if anything throws, we retry\n  const res = await fetch('https://google.com')\n\n  if (403 === res.status) {\n    // don't retry upon 403\n    bail(new Error('Unauthorized'))\n    return\n  }\n\n  const data = await res.text()\n  return data.substr(0, 500)\n}, {\n  retries: 5\n})\n```\n\n### API\n\n```js\nretry(retrier : Function, opts : Object) => Promise\n```\n\n- The supplied function can be `async` or not. In other words, it can be a function that returns a `Promise` or a value.\n- The supplied function receives two parameters\n  1. A `Function` you can invoke to abort the retrying (bail)\n  2. A `Number` identifying the attempt. The absolute first attempt (before any retries) is `1`.\n- The `opts`\n  * `retries`: The maximum amount of times to retry the operation. Default is `10`.\n  * `factor`: The exponential factor to use. Default is `2`.\n  * `minTimeout`: The number of milliseconds before starting the first retry. Default is `1000`.\n  * `maxTimeout`: The maximum number of milliseconds between two retries. Default is `Infinity`.\n  * `randomize`: Randomizes the timeouts by multiplying with a factor between `1` to `2`. Default is `true`.\n  * `onRetry`: an optional `Function` that is invoked after a new retry is performed. It's passed the `Error` that triggered it as a parameter.\n\nAll time values are in milliseconds.\n\n### Retries Explained\n\nThe formula used to calculate the individual timeouts is:\n\n```\nMath.min(random * minTimeout * Math.pow(factor, attempt), maxTimeout)\n```\n\nHave a look at [this article][article] for a better explanation of approach.\n\nIf you want to tune your `factor` / `times` settings to attempt the last retry\nafter a certain amount of time, you can use wolfram alpha. For example in order\nto tune for `10` attempts in `5 minutes`, you can use this equation:\n\n![screenshot](https://github.com/OlliV/async-retry-ng/raw/master/equation.gif)\n\nExplaining the various values from left to right:\n\n* `k = 0 ... 9`:  The `retries` value (10)\n* `1000`: The `minTimeout` value in ms (1000)\n* `x^k`: No need to change this, `x` will be your resulting factor\n* `5 * 60 * 1000`: The desired total amount of time for retrying in ms (5 minutes)\n\nTo make this a little easier for you, use wolfram alpha to do the calculations:\n\n<http://www.wolframalpha.com/input/?i=Sum%5B1000*x^k%2C+{k%2C+0%2C+9}%5D+%3D+5+*+60+*+1000>\n\n[article]: http://dthain.blogspot.com/2009/02/exponential-backoff-in-distributed.html\n",
    "licenseText": "MIT License\n\nCopyright (c) 2011:\nTim Koschützki (tim@debuggable.com)\nFelix Geisendörfer (felix@debuggable.com)\nCopyright (c) 2017 ZEIT, Inc.\nCopyright (c) 2019 Olli Vanhoja <olli.vanhoja@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.yarnpkg.com/async-retry-ng/-/async-retry-ng-2.0.1.tgz#f5285ec1c52654a2ba6a505d0c18b1eadfaebd41",
    "type": "tarball",
    "reference": "https://registry.yarnpkg.com/async-retry-ng/-/async-retry-ng-2.0.1.tgz",
    "hash": "f5285ec1c52654a2ba6a505d0c18b1eadfaebd41",
    "integrity": "sha512-iitlc2murdQ3/A5Re3CcplQBEf7vOmFrFQ6RFn3+/+zZUyIHYkZnnEziMSa6YIb2Bs2EJEPZWReTxjHqvQbDbw==",
    "registry": "npm",
    "packageName": "async-retry-ng",
    "cacheIntegrity": "sha512-iitlc2murdQ3/A5Re3CcplQBEf7vOmFrFQ6RFn3+/+zZUyIHYkZnnEziMSa6YIb2Bs2EJEPZWReTxjHqvQbDbw== sha1-9ShewcUmVKK6alBdDBix6t+uvUE="
  },
  "registry": "npm",
  "hash": "f5285ec1c52654a2ba6a505d0c18b1eadfaebd41"
}